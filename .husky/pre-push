#!/usr/bin/env bash

# Fast pre-push checks: type check + unit tests only

# Skip in CI environments
[ -n "$CI" ] && exit 0

echo "🔍 Running pre-push checks..."

echo "  → Type checking..."
npm run check || {
  echo "❌ TypeScript errors detected"
  exit 1
}

echo "  → Unit tests..."
npm run test:ci || {
  echo "❌ Unit tests failed"
  exit 1
}

echo "✅ Pre-push checks passed!"
