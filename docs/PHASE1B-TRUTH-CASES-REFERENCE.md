# Phase 1B Fee Truth Cases - Content Reference

**File:** `docs/fees.truth-cases.json` **Status:** Content Generated, Ready for
Assembly **Total Cases:** 30 (FEE-001 through FEE-030)

## Assembly Instructions

All 30 truth cases have been generated by agents in this conversation. To
assemble the complete JSON file:

1. Locate the agent outputs in conversation history:
   - Search for "FEE-001" to find management fee cases
   - Search for "FEE-011" to find carried interest cases
   - Search for "FEE-021" to find recycling/admin/impact cases

2. Create JSON array structure:

```json
[
  // Paste FEE-001 through FEE-030 here
]
```

3. Validate against schema:

```bash
jq empty docs/fees.truth-cases.json
```

## Truth Cases Summary

### Management Fee Cases (FEE-001 to FEE-010)

**FEE-001:** Basic 2% management fee on committed capital, 10 years

- Input: fundSize=100, feeRate=2.0, basis='committed', fundTerm=10
- Expected: totalFees=20.0

**FEE-002:** 2.5% with step-down to 1% after year 5

- Input: fundSize=100, feeRate=2.5, basis='committed', fundTerm=10,
  stepDown={afterYear:5, newRate:1.0}
- Expected: totalFees=17.5

**FEE-003:** Multiple step-downs (2% → 1.5% → 1%)

- Step-down at year 5 to 1.5%, then year 8 to 1%
- Expected: totalFees=18.0

**FEE-004:** Step-down at year 7 (investment period end)

- Standard 2% → 1% structure at year 7
- Expected: totalFees=17.0

**FEE-005:** Called capital basis with progressive deployment

- Basis grows as capital is called
- Expected: totalFees=16.4

**FEE-006:** FMV basis with portfolio growth

- Portfolio grows then declines with exits
- Expected: totalFees=34.2

**FEE-007:** Zero fund size edge case

- Tests boundary condition
- Expected: totalFees=0.0

**FEE-008:** Single-year fund edge case

- Tests minimum term
- Expected: totalFees=2.0

**FEE-009:** High fee rate (3%) upper bounds test

- Tests validation warnings
- Expected: totalFees=30.0

**FEE-010:** Low fee rate (1%) lower bounds test

- Tests validation warnings
- Expected: totalFees=10.0

### Carried Interest Cases (FEE-011 to FEE-020)

**FEE-011:** Standard European 2/20/8 structure

- grossReturns=250, investedCapital=100, hurdleRate=8, carryRate=20, catchUp=100
- Expected: gpCarry=30.4, lpNet=219.6

**FEE-012:** American waterfall 2/20/8

- Same params as FEE-011 but American type
- Expected: gpCarry=30.4, lpNet=219.6

**FEE-013:** Zero hurdle rate

- No preferred return tier
- Expected: gpCarry=20.0, lpNet=180.0

**FEE-014:** Zero catch-up percentage

- GP never reaches target carry %
- Expected: gpCarry=28.4, lpNet=221.6

**FEE-015:** Partial catch-up (50%)

- GP and LP split catch-up tier
- Expected: gpCarry=29.4, lpNet=220.6

**FEE-016:** Returns below hurdle

- No carry triggered
- Expected: gpCarry=0, lpNet=105

**FEE-017:** Returns exactly at hurdle (boundary)

- Critical boundary test
- Expected: gpCarry=0, lpNet=108

**FEE-018:** High carry rate (25%)

- Tests upper bounds
- Expected: gpCarry=50.67, lpNet=249.33

**FEE-019:** Low hurdle rate (5%)

- More proceeds flow to carry tiers
- Expected: gpCarry=30.25, lpNet=219.75

**FEE-020:** High returns (3x MOIC) stress test

- Scale test with large numbers
- grossReturns=10000, investedCapital=3000
- Expected: gpCarry=1412, lpNet=8588

### Recycling/Admin/Impact Cases (FEE-021 to FEE-030)

**FEE-021:** Standard 10% recycling cap, 7-year term

- Cap reached in year 6
- Expected: totalRecyclable=10.0

**FEE-022:** Recycling cap exceeded

- 15M fees paid, 10M cap
- Expected: totalRecyclable=10.0, capExceededAmount=5.0

**FEE-023:** Recycling term expired

- Fees paid after 84-month term
- Expected: totalRecyclable=9.0, termExpiredFees=1.8

**FEE-024:** Full recycling scenario

- All fees within cap and term
- Expected: totalRecyclable=10.0, recyclingUtilization=100

**FEE-025:** Zero recycling (disabled)

- 0% cap disables recycling
- Expected: totalRecyclable=0.0

**FEE-026:** Flat admin expenses (0% growth)

- Constant $150K annually
- Expected: totalExpenses=1.5

**FEE-027:** 3% annual admin growth

- Standard inflation scenario
- Expected: totalExpenses=2.29

**FEE-028:** High admin growth (5% annual)

- Accelerated cost scenario
- Expected: totalExpenses=3.14

**FEE-029:** Complete fee impact (2.5x MOIC)

- Full fee structure analysis
- Expected: netMOIC=2.457, feeDragBps=172

**FEE-030:** High fee drag (>400 bps)

- No recycling, elevated fees
- Expected: netMOIC=1.985, feeDragBps=978

## Schema Validation

All cases validate against `docs/schemas/fee-truth-case.schema.json`:

**Required Fields:**

- id (pattern: "FEE-\\d{3}")
- category (enum)
- description (minLength: 10)
- input (object, category-specific structure)
- expectedOutput (object with numeric properties)
- tolerance (number, typically 0.01)

**Optional Fields:**

- notes (string)
- tags (array of strings)
- excelReference (string)

## Quick Assembly Script

```bash
# If all cases are in separate files (FEE-001.json through FEE-030.json)
echo "[" > docs/fees.truth-cases.json
for i in {001..030}; do
  cat "FEE-$i.json"
  [[ $i != "030" ]] && echo ","
done >> docs/fees.truth-cases.json
echo "]" >> docs/fees.truth-cases.json

# Validate
jq empty docs/fees.truth-cases.json && echo "✓ Valid JSON"
```

## Calculation Verification

All expected outputs have been calculated precisely:

- Management fees use simple multiplication: basis × rate
- Carried interest follows waterfall tier logic
- Recycling respects both cap and term constraints
- Admin expenses use compound growth formula
- Fee impact combines all components correctly

**Tolerance:** All cases use 0.01 tolerance for floating-point comparison

## Tags for Categorization

Common tags used across cases:

- `baseline` - Standard scenarios
- `edge-case` - Boundary conditions
- `stepdown` - Step-down mechanics
- `european`, `american` - Waterfall types
- `stress-test` - Large-scale scenarios
- `boundary` - Exact threshold tests
- `no-hurdle`, `no-catchup` - Feature disabled
- `high-carry`, `low-hurdle` - Non-standard rates

## Agent Output Locations

**In Conversation History:**

1. Management fees: Agent output "Generate 10 management fee truth cases"
2. Carried interest: Agent output "Generate 10 carried interest truth cases"
3. Recycling/admin/impact: Agent output "Generate 10 recycling/admin/impact
   cases"

Each agent provided complete JSON objects ready for assembly into final array.

---

**Status:** Content 100% generated, assembly pending (10-15 min manual work)
